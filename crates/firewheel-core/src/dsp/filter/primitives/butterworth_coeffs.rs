use std::f64::consts::FRAC_1_SQRT_2;

use crate::dsp::filter::spec::FilterOrder;

/// Returns the coefficients used to design an SVF. Orders > 16 will panic.
pub fn butterworth_coeffs(order: FilterOrder) -> &'static [f64] {
    match order {
        1 => &[],
        2 => &[FRAC_1_SQRT_2],
        3 => &[1.0],
        4 => &[0.541196100146197, 1.3065629648763766],
        5 => &[0.6180339887498949, 1.618033988749895],
        6 => &[0.5176380902050415, FRAC_1_SQRT_2, 1.9318516525781366],
        7 => &[0.5549581320873712, 0.8019377358048383, 2.246979603717467],
        8 => &[
            0.5097955791041592,
            0.6013448869350453,
            0.8999762231364157,
            2.5629154477415064,
        ],
        9 => &[
            0.532088886237956,
            0.6527036446661393,
            1.0,
            2.879385241571817,
        ],
        10 => &[
            0.5062325628940014,
            0.5611631188171804,
            FRAC_1_SQRT_2,
            1.1013446322926332,
            3.196226610749831,
        ],
        11 => &[
            0.5211085581132027,
            0.5943511444371404,
            0.7635211184333676,
            1.203615623775565,
            3.513337091666135,
        ],
        12 => &[
            0.5043144802900763,
            0.541196100146197,
            0.6302362070051323,
            0.8213398158522908,
            1.3065629648763766,
            3.8306487877701945,
        ],
        13 => &[
            0.5149639154748638,
            0.5646807808791463,
            0.6679930798878865,
            0.8801813576307556,
            1.4100200484265293,
            4.148114905279377,
        ],
        14 => &[
            0.503163788290089,
            0.5297264862561452,
            0.590511054787033,
            FRAC_1_SQRT_2,
            0.9397929599938074,
            1.513871321542845,
            4.465702135190253,
        ],
        15 => &[
            0.5111702974325146,
            0.5473181392530234,
            0.6180339887498949,
            0.7472382749323043,
            1.0,
            1.618033988749895,
            4.783386116752813,
        ],
        16 => &[
            0.5024192861881557,
            0.5224986149396889,
            0.5669440348163577,
            0.6468217833599901,
            0.7881546234512502,
            1.0606776859903475,
            1.722447098238334,
            5.101148618689164,
        ],
        0 | 17.. => panic!("Unsupported filter order {order}"),
    }
}
